"use strict";(self["webpackJsonp_basics"]=self["webpackJsonp_basics"]||[]).push([[228],{228:function(e,t,l){l.r(t),l.d(t,{default:function(){return g}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"role"},[t("div",{staticClass:"role-btn"},[t("div",{staticClass:"btn"},[t("el-button",{attrs:{icon:"el-icon-view"}},[e._v("新增角色")]),t("el-button",{attrs:{icon:"el-icon-user"}},[e._v("修改角色")]),t("el-button",{attrs:{icon:"el-icon-edit-outline"}},[e._v("删除角色")]),t("el-button",{attrs:{icon:"el-icon-unlock"}},[e._v("角色授权")])],1)]),t("div",{staticClass:"role-main"},[e._m(0),t("div",{staticClass:"m-content"},[t("el-table",{ref:"table",attrs:{data:e.getTable.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),stripe:"","highlight-current-row":!0,height:e.tableHeightComputed}},[t("el-table-column",{attrs:{prop:"role_code",align:"center",label:"员工工号"}}),t("el-table-column",{attrs:{prop:"role_name",align:"center",label:"用户姓名"}}),t("el-table-column",{attrs:{prop:"select",align:"center",label:"角色状态"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-tooltip",{attrs:{content:0==l.row.select?"点击启用":"点击停用",placement:"top"}},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},model:{value:l.row.select,callback:function(t){e.$set(l.row,"select",t)},expression:"scope.row.select"}})],1)]}}])}),t("el-table-column",{attrs:{prop:"boss",align:"center",label:"角色层级"}}),t("el-table-column",{attrs:{prop:"role_memo",align:"center",label:"用户备注"}})],1)],1),t("div",{staticClass:"block"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.getTable.length}})],1)])])},a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"m_text"},[t("p",[e._v("员工列表")])])}],s=l(4471),n={components:{},data(){return{currentPage:1,pageSize:10,getTable:[],itemHeaderHeight:1,tableHeight:document.documentElement.clientHeight/1.8}},computed:{tableHeightComputed(){return console.log(this.tableHeight-this.itemHeaderHeight),this.tableHeight-this.itemHeaderHeight}},watch:{itemHeaderHeight(e,t){console.log(e,t),this.resize()}},mounted(){this.tableHeight=this.tableHeight-this.itemHeaderHeight,this.resize()},destroyed(){window.onresize=null},created(){this.$nextTick((()=>{let e=document.documentElement.clientHeight,t=this.$refs["table"].$el.getBoundingClientRect().top;this.tableHeight=e-t-80,console.log(this.tableHeight,t,"this.tableHeight - this.itemHeaderHeight")})),this.getTableData()},methods:{resize(){window.onresize=()=>{this.tableHeight=document.documentElement.clientHeight,this.itemHeaderHeight=this.$refs["table"].$el.getBoundingClientRect().top+80,console.log(this.tableHeightComputed,"this.tableHeightComputed")}},getTableData(){s.Z.get("/api/rolemana/getRecipe").then((e=>{this.getTable=e.data.data,console.log(this.getTable,"resda")}))}}},o=n,c=l(1001),r=(0,c.Z)(o,i,a,!1,null,"116b4c6c",null),g=r.exports}}]);